(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0lGe":function(e,t,a){e.exports={background:"styles_background__4wz6l",toolBar:"styles_toolBar__P_NfK",upperloginformcontainer:"styles_upperloginformcontainer__r3ElA",contslidein:"styles_contslidein__1-kNR",loginformcontainer:"styles_loginformcontainer__3HTuO",logslidein:"styles_logslidein__14wpG",loginform:"styles_loginform__1SSDc",loginbtn:"styles_loginbtn__m8X76",sendemailbtn:"styles_sendemailbtn__20PYd",changepassbtn:"styles_changepassbtn__1Wrl9"}},"600F":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var s=a("o0o1"),n=a.n(s),o=a("1OyB"),r=a("vuIU"),i=a("JX7q"),l=a("Ji7U"),c=a("md7G"),u=a("foSv"),d=a("rePB"),p=a("q1tI"),h=a.n(p),f=a("JeC3"),w=a("JUMO"),m=a("QojX"),b=a("JI6e"),g=a("cWnB"),v=a("JpXl"),y=a("zUrK"),_=a("TUci"),P=a("CVNw"),k=a.n(P),O=a("k5ff"),N=a.n(O),j=a("lO2I"),C=a("p46w"),x=a("tY2M"),S=a("2VMG"),I=a("nOHt"),M=a.n(I),T=a("0lGe"),G=a.n(T),J=h.a.createElement;function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=Object(u.a)(e);if(t){var n=Object(u.a)(this).constructor;a=Reflect.construct(s,arguments,n)}else a=s.apply(this,arguments);return Object(c.a)(this,a)}}var z=function(e){Object(l.a)(a,e);var t=V(a);function a(e){var s;return Object(o.a)(this,a),s=t.call(this,e),Object(d.a)(Object(i.a)(s),"passwordSchema",void 0),Object(d.a)(Object(i.a)(s),"timerId",void 0),Object(d.a)(Object(i.a)(s),"clientKey",void 0),Object(d.a)(Object(i.a)(s),"componentDidMount",(function(){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.awrap(s.context.userShouldBeChecked());case 2:s.clientKey=e.sent;case 3:case"end":return e.stop()}}),null,null,null,Promise)})),Object(d.a)(Object(i.a)(s),"count",(function(){10!==s.state.count?s.setState({count:s.state.count+1}):(s.stopTimer(),C.remove("ddclientreact"),M.a.push("/"))})),s.timerId=null,s.clientKey="",s.passwordSchema=(new N.a).is().min(8).has().has().uppercase().has().lowercase().has().digits().has().symbols(),s.state={newPassword:"",count:0,newPasswordChecked:"",passwordChanged:!1,helpPopoverOpen:!1,infoMsgVisible:!1,validated:!1},s.askForNewPass=s.askForNewPass.bind(Object(i.a)(s)),s.checkNewPassword=s.checkNewPassword.bind(Object(i.a)(s)),s}return Object(r.a)(a,[{key:"askForNewPass",value:function(e){var t;return n.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),t=new v.a,a.t0=this,a.next=5,n.a.awrap(t.changeClientPassword(this.clientKey,this.state.newPassword));case 5:a.t1=a.sent,a.t2={passwordChanged:a.t1},a.t0.setState.call(a.t0,a.t2),this.state.passwordChanged&&(this.setState({infoMsgVisible:!0}),this.startTimer());case 9:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"startTimer",value:function(){var e=this;null===this.timerId&&(this.timerId=setInterval((function(){return e.count()}),500))}},{key:"stopTimer",value:function(){clearInterval(this.timerId)}},{key:"checkNewPassword",value:function(e){var t=this.passwordSchema.validate(e.target.value);this.setState({newPassword:e.target.value,newPasswordChecked:t,validated:t})}},{key:"onDismiss",value:function(){this.setState({infoMsgVisible:!this.state.infoMsgVisible})}},{key:"render",value:function(){var e=this;return J("div",{style:{width:"100%",height:"100%",margin:"0"}},J(x.a,null),J("div",{className:G.a.background},J(f.a,{className:"toast-info",show:this.state.infoMsgVisible,onClose:this.onDismiss,style:{position:"absolute",marginTop:"80px",right:"20px"}},J(f.a.Header,{className:"header"},J("strong",{className:"mr-auto header-title"},"Informations"),J("small",{className:"header-title"},"Changer de mot de passe")),J(f.a.Body,null,"Le mot de passe est chang\xe9, vous allez \xeatre redirig\xe9 vers l'espace de connexion ",J("br",null),J("br",null),J(w.a,{now:10*this.state.count,style:{height:"3px"}}))),J("div",{className:G.a.upperloginformcontainer},J("div",{className:G.a.loginformcontainer},J(m.a,{validated:this.state.validated,onSubmit:this.askForNewPass},J(m.a.Row,{className:G.a.loginform},J(m.a.Group,{style:{fontWeight:"bold",fontSize:"1.2em"},as:b.a,md:"12"},"Mot de passe perdu ?"),J(m.a.Group,{as:b.a,md:"12",controlId:"new-password"},J(m.a.Label,null," Nouveau mot de passe "),J(y.a,null,J(y.a.Prepend,null,J(y.a.Text,{id:"newPasswordInputGroupPrepend"},J(k.a,{path:j.d,title:"Nouveau mot de passe",size:.6,horizontal:!0,vertical:!0,rotate:180,color:"black"}))),J(m.a.Control,{required:!0,type:"password",onChange:function(t){return e.checkNewPassword(t)},maxLength:32,autoComplete:"new-password"}),J(m.a.Control.Feedback,{type:"invalid"},"Veuillez renseigner un nouveau mot de passe"))),J("br",null),J(m.a.Group,{as:b.a,md:"12"},J(g.a,{type:"submit",className:G.a.changepassbtn,variant:"info"}," Changer ")),this.state.newPasswordChecked||""===this.state.newPassword?null:J(_.a,{variant:"danger",style:{textAlign:"left"}},"Le nouveau mot de passe ne r\xe9pond pas aux crit\xe8res requis, il doit contenir des:",J("ul",null,J("li",null,"Majuscules"),J("li",null,"Minuscules"),J("li",null,"Chiffres"),J("li",null,"Caract\xe8res sp\xe9ciaux")))))))))}}]),a}(p.Component);Object(d.a)(z,"contextType",S.a)},brng:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/changepassword",function(){return a("600F")}])}},[["brng",0,2,7,1,3,5,4,6,9]]]);